(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,n){e.exports=n(47)},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(16),o=n.n(c),u=n(3),m=n(13),s=n(11);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(37),n(38);var i="ADD_GROUP",l=function(e,t){return{type:i,name:e,id:t}},p=n(9),d=(n(39),function(e){var t=e.createGroup,n=e.collapseParent,c=Object(a.useRef)(null),o=Object(a.useState)(""),u=Object(p.a)(o,2),m=u[0],s=u[1];return r.a.createElement("div",{className:"group-field-expanded-header"},r.a.createElement("div",{className:"group-field-input-wrapper"},r.a.createElement("input",{type:"text",className:"form-input fill",value:m,onChange:function(e){return s(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(t(m),s(""),c.current.blur(),n())},placeholder:"New Group Name",ref:c,autoFocus:!0})),r.a.createElement("hr",{className:"group-field-expanded-header-divider"}))}),b=function(e){var t=e.name,n=e.id,a=e.collapseParent;return r.a.createElement(m.b,{to:"/group/".concat(n,"/members"),className:"group-entry-container",activeClassName:"group-entry-container-active",onClick:a},r.a.createElement("h3",{className:"group-name"},t))},f=function(e){var t=e.savedGroups,n=e.goToGroup,a=e.collapseParent;return r.a.createElement("div",{className:"group-entries-container"},t.length?t.map(function(e){return r.a.createElement(b,{id:e.id,name:e.name,key:"group-".concat(e.id),goToGroup:n,collapseParent:a})}):r.a.createElement("em",null,"No Groups Found"))},E=function(e){var t=e.selectedGroup;return r.a.createElement("h3",{className:"group-field-header"},t?t.name:"Create New Group")},v=function(e){var t=e.savedGroups,n=e.createGroup,c=e.selectedGroup,o=e.goToGroup,u=Object(a.useState)(!1),m=Object(p.a)(u,2),s=m[0],i=m[1],l=Object(a.useRef)(),b=function(e){l.current.contains(e.target)?i(!0):i(!1)},v=function(){return i(!1)};return Object(a.useEffect)(function(){return document.addEventListener("mousedown",b),function(){document.removeEventListener("mousedown",b)}},[]),r.a.createElement("div",{className:"group-field-container ".concat(s?"expanded":""," card"),ref:l},s?r.a.createElement(r.a.Fragment,null,r.a.createElement(d,{createGroup:n,collapseParent:v}),r.a.createElement(f,{savedGroups:t,goToGroup:o,collapseParent:v})):r.a.createElement(E,{selectedGroup:c}))},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e&&t&&e in t?t[e]:null},x=Object(u.b)(function(e,t){return{currGroupIndex:e.indexCounter.groups,savedGroups:e.groups}},function(e){return{createGroupWithId:function(t,n){return e(l(n,t))}}},function(e,t,n){var a=function(e){return n.history.push("/group/".concat(e,"/members"))};return{goToGroup:a,createGroup:function(n){t.createGroupWithId(e.currGroupIndex,n),a(e.currGroupIndex)},savedGroups:Object.values(e.savedGroups||{}),selectedGroup:g(n.match.params.groupId,e.savedGroups)}})(v),O=n(4),h=n(1),N=function(e){return parseInt(e.match.params.groupId)},j=function(e,t){var n=e.groups,a=e.members;return n&&t in n&&a?n[t].members.reduce(function(e,t){return t in a?Object(h.a)({},e,Object(O.a)({},t,a[t])):e},{}):{}},I=function(e,t){var n=e.groups,a=e.members,r=e.expenses;return n&&t in n&&a&&r?n[t].expenses.reduce(function(t,n){return n in r?Object(h.a)({},t,Object(O.a)({},n,function(e,t){var n=e.members,a=e.expenses;if(!n||!a||!(t in a))return{};var r=a[t];return Object(h.a)({},r,{paidFor:n[r.paidFor],paidBy:n[r.paidBy]})}(e,n))):t},{}):{}},y=function(e,t){var n=I(e,t);return n?function(e){var t=Object.assign({},e),n=Object.keys(e).filter(function(t){return e[t]>0}),a=Object.keys(e).filter(function(t){return e[t]<0}),r=[];return n.forEach(function(e){for(var n=t[e];n>0;){var c=a.filter(function(e){return t[e]<0})[0],o=Math.abs(t[c]),u=n>=o?o:n;n-=u,t[c]+=u,r.push({amount:u,from:c,to:e})}}),r}(function(e){return e.reduce(function(e,t){var n,a=t.amount,r=t.paidBy,c=t.paidFor;return Object(h.a)({},e,(n={},Object(O.a)(n,r.memberId,(e[r.memberId]||0)+a),Object(O.a)(n,c.memberId,(e[c.memberId]||0)-a),n))},{})}(Object.values(n))).map(function(t){return Object(h.a)({},t,{from:e.members[t.from].name,to:e.members[t.to].name})}):{}},w="ADD_MEMBER",G=function(e,t,n){return{type:w,name:e,memberId:t,groupId:n}},C=(n(41),function(e){var t=e.createMember,n=Object(a.useState)(""),c=Object(p.a)(n,2),o=c[0],u=c[1],m=function(){o&&(t(o),u(""))};return r.a.createElement("div",{className:"member-form card"},r.a.createElement("div",{className:"member-form-row"},r.a.createElement("div",{className:"member-name-input-wrapper"},r.a.createElement("input",{type:"text",className:"form-input fill",placeholder:"Member Name",value:o,onChange:function(e){return u(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&m()}})),r.a.createElement("button",{className:"member-form-submit ".concat(o?"can-submit":""),onClick:m},r.a.createElement("i",{className:"material-icons"},"person_add"))))}),_=Object(u.b)(function(e,t){return{currMemberIndex:e.indexCounter.members,members:j(e,N(t))}},function(e,t){return{createMember:function(n,a){return e(G(n,a,N(t)))}}},function(e,t){return{createMember:function(n){return t.createMember(n,e.currMemberIndex)},members:Object.values(e.members||{})}})(C),F=function(e){var t=e.title;return r.a.createElement("div",{className:"card-title"},r.a.createElement("h6",{className:"title-text"},t),r.a.createElement("hr",{className:"title-line"}))},P=(n(42),function(){return r.a.createElement("div",{className:"member-list-empty"},r.a.createElement("i",{className:"member-list-empty-icon material-icons"},"person_outline"),r.a.createElement("div",{className:"member-list-empty-text"},r.a.createElement("p",null,"This group doesn't have any members."),r.a.createElement("p",null,"Add a member using the form above.")))}),R=function(e){var t=e.name;return r.a.createElement("div",{className:"member-container"},r.a.createElement("i",{className:"member-icon fas fa-smile"}),r.a.createElement("h3",{className:"member-overview"},t))},S=function(e){var t=e.members;return r.a.createElement("div",{className:"member-list card"},r.a.createElement(F,{title:"Members"}),0===t.length?r.a.createElement(P,null):t.map(function(e){return r.a.createElement(R,{name:e.name})}))},B=Object(u.b)(function(e,t){return{members:Object.values(j(e,N(t))||{})}})(S),M=(n(43),function(e){var t=e.to,n=e.children;return r.a.createElement(m.b,{className:"nav-button",activeClassName:"nav-active",to:t},n)}),k=function(e){var t=e.context;return r.a.createElement("div",{className:"nav-container"},r.a.createElement(M,{to:"".concat(t,"/members")},"Members"),r.a.createElement(M,{to:"".concat(t,"/expenses")},"Expenses"),r.a.createElement(M,{to:"".concat(t,"/split")},"Split"))},D=Object(u.b)(function(e,t){return{context:"/group/".concat(N(t))}})(k),T="ADD_EXPENSE",A={addExpense:function(e,t,n,a,r,c){return{type:T,expenseId:e,groupId:t,description:n,amount:a,paidBy:r,paidFor:c}}},J=n(24),L=(n(44),function(e){var t=e.fieldName,n=Object(J.a)(e,["fieldName"]);return r.a.createElement("input",Object.assign({type:"text",className:"expense-form-input form-input fill ".concat(t,"-input")},n))}),X=function(e){var t=e.fieldName,n=e.members,a=e.placeholder,c=Object(J.a)(e,["fieldName","members","placeholder"]);return r.a.createElement("select",Object.assign({className:"expense-form-input form-input fill name-select ".concat(t,"-input")},c),r.a.createElement("option",{value:"",selected:!0,disabled:!0},a),n.map(function(e,n){return r.a.createElement("option",{key:"".concat(t," ").concat(e.id),value:e.memberId},e.name)}))},W=function(e){return function(t){return e(t.target.value)}},U=function(e){var t=e.members,n=e.createExpense,c=Object(a.useState)(null),o=Object(p.a)(c,2),u=o[0],m=o[1],s=Object(a.useState)(null),i=Object(p.a)(s,2),l=i[0],d=i[1],b=Object(a.useState)(null),f=Object(p.a)(b,2),E=f[0],v=f[1],g=Object(a.useState)(null),x=Object(p.a)(g,2),O=x[0],h=x[1],N=u&&l>0&&E&&O;return r.a.createElement("div",{className:"expense-form-container card"},r.a.createElement("div",{className:"expense-form-row"},r.a.createElement(L,{fieldName:"description",placeholder:"Expense Description",value:u,onChange:W(m)}),r.a.createElement(L,{fieldName:"amount",placeholder:"Expense Amount",type:"number",value:l,onChange:W(d)})),r.a.createElement("div",{className:"expense-form-row"},r.a.createElement(X,{fieldName:"paidBy",placeholder:"Paid by",members:t,value:E,onChange:W(v)}),r.a.createElement(X,{fieldName:"paidFor",placeholder:"Paid for",members:t,value:O,onChange:W(h)}),r.a.createElement("button",{className:"expense-form-submit ".concat(N?"can-submit":""),onClick:function(){N&&(n(u,parseInt(l),E,O),m(""),d(""))}},r.a.createElement("i",{className:"material-icons"},"add_circle_outline"))))},K=Object(u.b)(function(e,t){return{currExpenseIndex:e.indexCounter.expenses,members:j(e,N(t))}},function(e,t){return{createExpense:function(n){for(var a=arguments.length,r=new Array(a>1?a-1:0),c=1;c<a;c++)r[c-1]=arguments[c];return e(A.addExpense.apply(A,[n,N(t)].concat(r)))}}},function(e,t){return{members:Object.values(e.members||{}),createExpense:function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t.createExpense.apply(t,[e.currExpenseIndex].concat(a))}}})(U),V=(n(45),function(e){var t=e.expense;return r.a.createElement("div",{className:"expense-container"},r.a.createElement("div",{className:"expense-header"},r.a.createElement("span",{className:"expense-description"},t.description),", ",r.a.createElement("span",{className:"expense-amount"},t.amount)),r.a.createElement("div",{className:"expense-details"},"Paid by ",r.a.createElement("span",{className:"expense-name-detail"},t.paidBy.name)," ","for ",r.a.createElement("span",{className:"expense-name-detail"},t.paidFor.name,".")))}),H=function(e){var t=e.expenses;return r.a.createElement("div",{className:"expense-list card"},r.a.createElement(F,{title:"Expenses"}),t.map(function(e){return r.a.createElement(V,{expense:e})}))},$=Object(u.b)(function(e,t){return{expenses:Object.values(I(e,N(t)))}})(H),q=(n(46),function(e){var t=e.amount,n=e.from,a=e.to;return r.a.createElement("div",{className:"suggestion"},r.a.createElement("span",{className:"suggestion-detail name"},n)," pays ",r.a.createElement("span",{className:"suggestion-detail amount"},t)," to ",r.a.createElement("span",{className:"suggestion-detail name"},a))}),z=function(e){var t=e.suggestedPayments;return r.a.createElement("div",{className:"suggestion-list card"},r.a.createElement(F,{title:"Suggested Payments"}),t.map(function(e){return r.a.createElement(q,e)}))},Q=Object(u.b)(function(e,t){return{suggestedPayments:y(e,N(t))}})(z),Y=n(12),Z=n(23),ee={1:{id:1,name:"Trip to Jerusalem",members:[1,2,3],expenses:[1,2,3],payments:[]},2:{id:2,name:"Couple's Retreat",members:[4,5],expenses:[],payments:[]}},te={groups:3,members:6,expenses:4,payments:1},ne={1:{name:"Louise",memberId:1,groupId:1},2:{name:"Juni",memberId:2,groupId:1},3:{name:"Aaron",memberId:3,groupId:1},4:{name:"Jay",memberId:4,groupId:2},5:{name:"Hans",memberId:5,groupId:2}},ae={1:{expenseId:1,groupId:1,description:"Potion",amount:20,paidBy:1,paidFor:2},2:{expenseId:2,groupId:1,description:"Elixir",amount:30,paidBy:1,paidFor:3},3:{expenseId:3,groupId:1,description:"Revive",amount:5,paidBy:3,paidFor:2}},re={GroupReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return Object(h.a)({},e,Object(O.a)({},t.id,{id:t.id,name:t.name,members:[],expenses:[],payments:[]}));case w:return Object(h.a)({},e,Object(O.a)({},t.groupId,Object(h.a)({},e[t.groupId],{members:[].concat(Object(Z.a)(e[t.groupId].members),[t.memberId])})));case T:return Object(h.a)({},e,Object(O.a)({},t.groupId,Object(h.a)({},e[t.groupId],{expenses:[].concat(Object(Z.a)(e[t.groupId].expenses),[t.expenseId])})));default:return e}},IndexCounterReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te;switch((arguments.length>1?arguments[1]:void 0).type){case i:return Object(h.a)({},e,{groups:e.groups+1});case w:return Object(h.a)({},e,{members:e.members+1});case T:return Object(h.a)({},e,{expenses:e.expenses+1});default:return e}},SelectedGroupReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return t.id;default:return e}},MemberReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(h.a)({},e,Object(O.a)({},t.memberId,{name:t.name,memberId:t.memberId,groupId:t.groupId}));default:return e}},ExpenseReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(h.a)({},e,Object(O.a)({},t.expenseId,{expenseId:t.expenseId,groupId:t.groupId,description:t.description,amount:t.amount,paidBy:t.paidBy,paidFor:t.paidFor}));default:return e}}},ce=Object(Y.b)({groups:re.GroupReducer,indexCounter:re.IndexCounterReducer,members:re.MemberReducer,expenses:re.ExpenseReducer}),oe=Object(Y.c)(ce,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),ue=document.getElementById("root");o.a.render(r.a.createElement(function(){return r.a.createElement(u.a,{store:oe},r.a.createElement(m.a,null,r.a.createElement("div",{className:"content"},r.a.createElement(s.a,{exact:!0,path:"/",component:x}),r.a.createElement(s.a,{path:"/group/:groupId",render:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(x,e),r.a.createElement(D,e))}}),r.a.createElement(s.a,{path:"/group/:groupId/members",render:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,e),r.a.createElement(B,e))}}),r.a.createElement(s.a,{path:"/group/:groupId/expenses",render:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(K,e),r.a.createElement($,e))}}),r.a.createElement(s.a,{path:"/group/:groupId/split",render:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q,e))}}))))},null),ue),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[28,1,2]]]);
//# sourceMappingURL=main.ed5fa3b7.chunk.js.map